<div class="bg-gray-100 dark:bg-gray-800" [class]="themeMode">
  <div class="container mx-auto p-6">

    <div class="pt-4 pr-4 text-right">
      <button (click)="dialogRef.close()"
        class="text-red-600  hover:font-bold transition duration-300">
        <i class="fa-solid fa-xmark mr-1 text-2xl"></i>
      </button>
    </div>

    <div class="flex items-center justify-center p-2 md:p-7">
      <div class="mx-auto w-full">
        <form [formGroup]="form">
          <div class="flex items-center">
            <div class="w-1/3 px-2">
              <label for="title" class="mb-2 block text-base font-medium  text-purple-900 dark:text-gray-300">
                Title
              </label>
              <input type="text" name="title" id="title" formControlName="title"
                class="w-full rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-700 p-2 text-base font-medium text-gray-700 dark:text-gray-200 outline-none focus:border-purple-500 focus:shadow-md" />
            </div>

            <div class="w-1/3 px-2">
              <label for="price" class="mb-2 block text-base font-medium  text-purple-900 dark:text-gray-300">
                Price
              </label>
              <input type="number" name="price" id="price" formControlName="price"
                class="w-full rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-700 p-2 text-base font-medium text-gray-700 dark:text-gray-200 outline-none focus:border-purple-500 focus:shadow-md" />
            </div>

            <div class="w-1/3 px-2">
              <app-select [data]="categories" [all]="false" [title]="'Categories:'" [select]="form.value.category"
                (selectedValue)="getSelectedCategories($event)">
              </app-select>
            </div>
          </div>

          <div class="flex items-center flex-wrap">
            <div class="w-full px-2 mt-2">
              <label for="img" class="mb-2 block text-base font-medium  text-purple-900 dark:text-gray-300">
                Picture
              </label>
              <img [src]="base64" class="w-20 h-20 mb-2 rounded-md border dark:border-gray-600" *ngIf="base64">
              <input type="file" name="img" id="img" (change)="getImagePath($event)"
                class="w-full rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-700 p-2 text-base font-medium text-gray-700 dark:text-gray-200 outline-none focus:border-purple-500 focus:shadow-md" />
            </div>

            <div class="w-full px-2 mt-2">
              <label for="description" class="mb-2 block text-base font-medium  text-purple-900 dark:text-gray-300">
                Description
              </label>
              <textarea name="description" id="description" formControlName="description"
                class="w-full h-32 resize-none rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-700 p-5 text-gray-700 dark:text-gray-200 font-medium outline-none focus:border-purple-500 focus:shadow-md"></textarea>
            </div>
          </div>

          <div class="text-right mt-3">
            <button type="submit" [disabled]="form.invalid" (click)="addProduct()" *ngIf="!data"
              class="disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-form rounded-md bg-purple-800 dark:bg-purple-700 py-3 px-8 text-center text-base font-semibold text-white outline-none">
              Add
            </button>

            <button type="submit" [disabled]="form.invalid" (click)="update()" *ngIf="data"
              class="disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-form rounded-md bg-purple-800 dark:bg-purple-700 py-3 px-8 text-center text-base font-semibold text-white outline-none">
              Update
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
